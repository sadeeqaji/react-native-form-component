{"version":3,"names":["refs","PinInput","props","pin","setPin","useState","Array","numOfInput","fill","activeInput","setActiveInput","length","i","push","createRef","changeFocus","index","text","current","focus","styles","wrapper","style","testID","map","_","formItem","onChangeText","toString","replace","input","borderBottomColor","colors","black","lightgrey","textInputStyle","status","message","autoFocus","inputTestID","StyleSheet","create","flexDirection","justifyContent","maxWidth","borderBottomWidth","textAlign","fontSize","backgroundColor","paddingLeft","paddingRight","minWidth"],"sources":["index.tsx"],"sourcesContent":["import React, { useState, createRef, RefObject } from 'react';\nimport {\n  View,\n  StyleSheet,\n  TextInput,\n  TextStyle,\n  ViewStyle,\n  StyleProp,\n  TextInputProps,\n} from 'react-native';\n\nimport { colors } from '../../colors';\nimport FormItem from '.././FormItem';\n\ninterface Props extends TextInputProps {\n  numOfInput: number;\n  onChangeText: (pin: string) => void;\n  textInputStyle?: TextStyle;\n  style?: StyleProp<ViewStyle>;\n  autoFocus?: boolean;\n  testID?: string;\n  inputTestID?: string;\n}\n\nconst refs: RefObject<TextInput>[] = [];\nexport default function PinInput(props: Props) {\n  const [pin, setPin] = useState(Array(props.numOfInput).fill(''));\n  const [activeInput, setActiveInput] = useState(0);\n  if (!refs.length) {\n    for (let i = 0; i < pin.length; i++) {\n      refs.push(createRef());\n    }\n  }\n\n  const changeFocus = (index: number, text: string) => {\n    if (text) refs[index + 1]?.current?.focus();\n    else refs[index - 1]?.current?.focus();\n  };\n\n  return (\n    <View style={[styles.wrapper, props.style]} testID={props.testID}>\n      {pin.map((_, index) => (\n        <FormItem\n          {...props}\n          value={pin[index]}\n          style={styles.formItem}\n          onChangeText={(text) => {\n            pin[index] = text;\n            setPin([...pin]);\n            changeFocus(index, text);\n            props.onChangeText(pin.toString().replace(/,/g, ''));\n          }}\n          textInputStyle={[\n            styles.input,\n            {\n              borderBottomColor:\n                activeInput === index ? colors.black : colors.lightgrey,\n            },\n            props.textInputStyle,\n          ]}\n          maxLength={1}\n          key={index}\n          ref={refs[index]}\n          onFocus={() => setActiveInput(index)}\n          customValidation={() => ({ status: true, message: '' })}\n          autoFocus={props.autoFocus && index === 0}\n          testID={props.inputTestID}\n        />\n      ))}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  wrapper: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n  },\n  input: {\n    maxWidth: 40,\n    borderBottomWidth: 1.5,\n    textAlign: 'center',\n    fontSize: 20,\n  },\n  formItem: {\n    backgroundColor: 'transparent',\n    paddingLeft: 0,\n    paddingRight: 0,\n    minWidth: 40,\n  },\n});\n"],"mappings":"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"}